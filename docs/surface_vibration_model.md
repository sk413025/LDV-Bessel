# SurfaceVibrationModel 物理與數學公式整理

## 概述

`SurfaceVibrationModel` 類用於進行表面振動分析，透過模態分析方法計算系統的振動頻率、模態形狀，以及在特定位置與時間點的位移和速度響應。

---

## 1. 模態分析

### 1.1 模態頻率計算

模態頻率（自然頻率）決定了系統在沒有外力作用下自由振動的固有頻率。計算方法依賴於系統參數與邊界條件，通常解決波動方程的本徵值問題：

$$
\text{求解} \quad \det(\mathbf{K} - \omega_n^2 \mathbf{M}) = 0
$$

其中：

- \( \mathbf{K} \) 為剛度矩陣
- \( \mathbf{M} \) 為質量矩陣
- \( \omega_n \) 為第 \( n \) 個模態的自然頻率

### 1.2 模態形狀計算

模態形狀描述了系統在特定模態下的振動形態，是位置的函數。對於板結構，模態形狀通常可以表示為正弦函數的組合：

$$
\Phi_n(x, y) = \sin\left(\frac{m \pi x}{L_x}\right) \sin\left(\frac{n \pi y}{L_y}\right)
$$

其中：

- \( \Phi_n(x, y) \) 為第 \( n \) 個模態的模態形狀
- \( m, n \) 為模態序數
- \( L_x, L_y \) 為板的長度與寬度

---

## 2. 表面振動響應計算

### 2.1 位移計算

總位移由各個模態貢獻的位移之和決定：

$$
u(x, y, t) = \sum_{n=1}^{N} \Phi_n(x, y) \cdot q_n(t)
$$

其中：

- \( u(x, y, t) \) 為在位置 \( (x, y) \) 處、時間 \( t \) 的位移
- \( N \) 為考慮的模態總數
- \( q_n(t) \) 為第 \( n \) 個模態的時間響應，通常為簡諧振動：

  $$
  q_n(t) = A_n \cos(\omega_n t) + B_n \sin(\omega_n t)
  $$

- \( A_n, B_n \) 為由初始條件決定的常數
- \( \omega_n \) 為第 \( n \) 個模態的自然頻率

### 2.2 速度計算

速度為位移對時間的導數：

$$
v(x, y, t) = \frac{\partial u(x, y, t)}{\partial t}
$$

在數值計算中，使用中心差分法近似速度：

$$
v(t_i) \approx \frac{u(t_{i+1}) - u(t_{i-1})}{2 \Delta t}
$$

其中 \( \Delta t \) 為時間步長。

---

## 3. 頻率響應函數 (FRF)

### 3.1 快速傅里葉變換 (FFT)

對速度時間序列進行 FFT，得到頻率響應：

$$
V(f) = \mathcal{F}\{v(t)\}
$$

其中：

- \( V(f) \) 為速度的頻譜表示
- \( \mathcal{F} \) 表示傅里葉轉換

頻率解析度為：

$$
\Delta f = \frac{1}{N \Delta t}
$$

### 3.2 振幅計算

振幅為 FFT 結果的模：

$$
|V(f)| = \sqrt{\text{Re}\{V(f)\}^2 + \text{Im}\{V(f)\}^2}
$$

---

## 4. 均方根 (RMS) 速度計算

均方根速度定義為：

$$
v_{\text{RMS}} = \sqrt{\frac{1}{N} \sum_{i=1}^{N} v(t_i)^2}
$$

其中 \( N \) 為窗口內的數據點數。

---

## 5. 主要振動頻率識別

### 5.1 峰值檢測

從頻譜中識別出最大的 \( n \) 個峰值，其對應的頻率為主要振動頻率。

### 5.2 排序與選擇

對峰值按振幅大小排序，選取前 \( n \) 個作為主要貢獻模態。

---

## 6. 其他注意事項

- **邊界條件**：模態分析結果與系統的邊界條件密切相關，如固定、自由或簡支邊界。
- **材料性質**：彈性模量、密度等材料參數影響剛度矩陣與質量矩陣，從而影響自然頻率。
- **線性假設**：上述公式基於線性彈性體假設，適用於小變形情況。

---

## 參考文獻

- [1] Meirovitch, L. (2001). **Fundamentals of Vibrations**. McGraw-Hill.
- [2] Rao, S. S. (2007). **Mechanical Vibrations**. Pearson Education. 